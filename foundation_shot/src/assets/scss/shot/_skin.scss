/*
 * This file contains all style definitions regarding the appearance of the common elements (menu, quick menu, top bar, etc.)
*/

// general

html * {
  outline: none;
}

// top bar
.top-bar, .top-bar-left, .top-bar-right{
    background-color: $white;
    z-index: 10;
    }
.title-bar-title, .title-bar{
        display: flex;
        align-items: center;
    }

.title-bar-right {
    text-align: right;
    }

.title-bar-title > a > span{
    color: $primary-color;
    }


.title-bar-title > div, .title-bar-right > div{
    padding-bottom: 0.3em;
    }

.menu-icon:after {
    /* the block itself, the first line */
    background: $primary-color;
    /* middle and bottom */
    box-shadow: 0 7px 0 $primary-color, 0 14px 0 $primary-color;
    /* respect WebKit */
    -webkit-box-shadow: 0 7px 0 $primary-color, 0 14px 0 $primary-color;
    }
.menu-icon{
    padding: 0;
    margin: 0 1rem 0 0.25rem;
    }

.title-bar{
    z-index: 100;
    color: $primary-color;
    padding: 0.25rem;
    button{
        padding: 0;
        margin: 0;
        vertical-align: center;
        }
    @include breakpoint(medium only){
        font-size: 1.125em;
        }
    @include breakpoint(large only){
        font-size: 1.25em;
        }
    @include breakpoint(huge up){
        font-size: 1.8em;
        }
    }
.title-bar-right a{
    margin: 0 0.25em;
    }

$menu-transition: all $menu-transition-time ease-out;

@mixin active_menu_item_color($color: $primary-color, $transition-delay: 0){
    color: $color;
    transition: $menu-transition;
    transition-delay: $transition-delay;
    }

@mixin active_submenu_dropdown_symbol($color: $primary-color, $transition-delay: 0){
    @include css-triangle($arrow-size-hover, $color, down);
    margin-top: -1 * ($arrow-size-hover / 2);
    transition: $menu-transition;
    transition-delay: $transition-delay;
    }

@mixin active_button($color: $primary-color, $transition-delay: 0){
    color: scale-color($color, $lightness: $active-button-lightness);
    background-color: scale-color($color, $lightness: $active-button-background-lightness);
    transition: $menu-transition;
    transition-delay: $transition-delay;
    }

@mixin active_button_hollow($color: $primary-color, $transition-delay: 0){
    border-color: scale-color($color, $lightness: $active-button-lightness);
    transition: $menu-transition;
    transition-delay: $transition-delay;
    }

// quick menu
#quick-menu .button{
    font-size: 1.0em;
    padding: 0.2em;
    display: flex;
    justify-content: center;
    align-items: center;
    line-height: 1.25em;
    color: $white;
    background-color: $primary-color;

    &:last-child{
        margin: 0;
    }
    &.active{
        @include active_button();
        }
    }

html[data-whatintent='mouse'] #quick-menu .button{
    &:hover{
        @include active_button($transition-delay: $menu-transition-delay);
        }
    }
html[data-whatintent='keyboard'] #quick-menu .button{
    &:focus{
        @include active_button();
        }
    }

// side menu
#menu {
    background-color: $white;

    a{
        display: flex;
        flex-direction: row;
        -ms-flex-direction: row;
        color: inherit;
        }
    & li:not(.is-accordion-submenu-parent) a{
        padding-right: 0;
        padding-left: 0;
        margin-right: 1.5em;
        margin-left: 1em;
        margin-bottom: 0.15em;
        border-radius: 0.4em;
        }

    a:before{
        display: block;
        content: '';
        margin: 0 0.5em 0 0;
        min-width: 0em;
        border-radius: 0.4em;
        transition: $menu-transition;
        }

    a:after{
        transition: $menu-transition;
        }

    li {
        transition: $menu-transition;
        color: $primary-color;
        &:not(.is-accordion-submenu-parent).active{
            @include active_menu_item_color;
            }
        &.active a{
            @include active_button;
            }
        }

    li.team{
        color: $primary-team-color;
        &:not(.is-accordion-submenu-parent).active{
            @include active_menu_item_color($primary-team-color);
            }
        &.active a{
            @include active_button($primary-team-color);
            }
        }
    li.admin{
        color: $primary-admin-color;
        &:not(.is-accordion-submenu-parent).active{
            @include active_menu_item_color($primary-admin-color);
            }
        &.active a{
            @include active_button($primary-admin-color);
            }
        }

    // make the color of the menu arrows the same as for the text
    .is-accordion-submenu-parent:not(.has-submenu-toggle).team > a:after{
        border-color: $primary-team-color transparent transparent;
        }
    .is-accordion-submenu-parent:not(.has-submenu-toggle).admin > a:after{
        border-color: $primary-admin-color transparent transparent;
        }
    }

html[data-whatintent='mouse'] #menu {
    li{
        & > a:hover{
            @include active_menu_item_color($transition-delay: $menu-transition-delay);
            }
        &:not(.is-accordion-submenu-parent) a:hover{
            @include active_button($transition-delay: $menu-transition-delay);
            }
        }

    li.team{
        color: $primary-team-color;
        & > a:hover{
            @include active_menu_item_color($primary-team-color, $transition-delay: $menu-transition-delay);
            }
        &:not(.is-accordion-submenu-parent) a:hover{
            @include active_button($primary-team-color, $transition-delay: $menu-transition-delay);
            }
        }
    li.admin{
        color: $primary-admin-color;
        & > a:hover{
            @include active_menu_item_color($primary-admin-color, $transition-delay: $menu-transition-delay);
            }
        &:not(.is-accordion-submenu-parent) a:hover{
            @include active_button($primary-admin-color, $transition-delay: $menu-transition-delay);
            }
        }

    // enlarge the menu arrors on hover
    .is-accordion-submenu-parent > a:hover:after{
        @include active_submenu_dropdown_symbol;
        }
    .is-accordion-submenu-parent.team > a:hover:after{
        @include active_submenu_dropdown_symbol($primary-team-color, $transition-delay: $menu-transition-delay);
        }
    .is-accordion-submenu-parent.admin > a:hover:after{
        @include active_submenu_dropdown_symbol($primary-admin-color, $transition-delay: $menu-transition-delay);
        }
    }


html[data-whatintent='keyboard'] #menu {
    li{
        & > a:focus{
            @include active_menu_item_color();
            }
        &:not(.is-accordion-submenu-parent) a:focus{
            @include active_button($primary-color);
            }
        }

    li.team{
        color: $primary-team-color;
        & > a:focus{
            @include active_menu_item_color($primary-team-color);
            }
        &:not(.is-accordion-submenu-parent) a:hover{
            @include active_button($primary-team-color);
            }
        }
    li.admin{
        color: $primary-admin-color;
        & > a:focus{
            @include active_menu_item_color($primary-admin-color);
            }
        &:not(.is-accordion-submenu-parent) a:focus{
            @include active_button($primary-admin-color);
            }
        }

    // enlarge the menu arrors in focus
    .is-accordion-submenu-parent > a:focus:after{
        @include active_submenu_dropdown_symbol()
        }
    .is-accordion-submenu-parent.team > a:focus:after{
        @include active_submenu_dropdown_symbol($primary-team-color);
        }
    .is-accordion-submenu-parent.admin > a:focus:after{
        @include active_submenu_dropdown_symbol($primary-admin-color);
        }
    }


html[data-whatintent='mouse'] .button{
    &:hover{
        @include active_button($transition-delay: $menu-transition-delay);
        }
    }
html[data-whatintent='mouse'] .button.hollow{
    &:hover{
        @include active_button_hollow($transition-delay: $menu-transition-delay);
        }
    }

// form buttons
html[data-whatintent='mouse'] form .button{
    $afe-font-family: 'Font Awesome 5 Free', sans-serif;
    }

button.back:before{
    @include button-icon-back;
    margin-right: $button-icon-margin;
    }
button.next:after{
    @include button-icon-next;
    margin-left: $button-icon-margin;
    }
button.send:after{
    @include button-icon-send;
    margin-left: $button-icon-margin;
    }

.hidden{
    display: none;
    }

// end of file
